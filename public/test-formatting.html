<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –Ω–∞ HTML –§–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .test-container { background: #f5f5f5; padding: 20px; margin: 10px 0; border-radius: 8px; }
        .response { background: #fff; padding: 15px; margin: 10px 0; border-left: 4px solid #007bff; border-radius: 4px; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –Ω–∞ HTML –§–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ - AI Chatbot</h1>
    
    <div class="test-container">
        <h3>–°–∏–º—É–ª–∏—Ä–∞–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏ —Å HTML <br> —Ç–∞–≥–æ–≤–µ</h3>
        <button onclick="testFormatting()">–¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ</button>
        <button onclick="testChatbot()">–¢–µ—Å—Ç —Ä–µ–∞–ª–µ–Ω chatbot</button>
    </div>

    <div id="results"></div>

    <script>
        function testFormatting() {
            const sampleResponse = `–í –º–æ–º–µ–Ω—Ç–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–º–µ —Å—ä—Å —Å–ª–µ–¥–Ω–∏—Ç–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–Ω–∏ –∏–º–æ—Ç–∏:<br><br>

1. –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–Ω–∞ –∑–æ–Ω–∞ –≤ –°–µ–≤–ª–∏–µ–≤–æ<br>
‚Ä¢ –¢–∏–ø: –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–µ–Ω –ø–∞—Ä—Ü–µ–ª<br>
‚Ä¢ –ü–ª–æ—â: 5 000 m¬≤<br>
‚Ä¢ –¶–µ–Ω–∞: 3 000 EUR<br>
‚Ä¢ –°—Ç–∞—Ç—É—Å: –ü—Ä–æ–¥–∞–¥–µ–Ω<br>
‚Ä¢ –î–µ—Ç–∞–π–ª–∏: <a href="http://localhost:8000/bg/property/2" target="_blank" style="color: #007bff; text-decoration: underline;">–í–∏–∂ –∏–º–æ—Ç–∞</a><br><br>

2. –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–Ω–∞ –∑–æ–Ω–∞ –≤ –ë–ª–∞–≥–æ–µ–≤–≥—Ä–∞–¥<br>
‚Ä¢ –¢–∏–ø: –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–µ–Ω –ø–∞—Ä—Ü–µ–ª<br>
‚Ä¢ –ü–ª–æ—â: 5 000 m¬≤<br>
‚Ä¢ –¶–µ–Ω–∞: 3 000 EUR<br>
‚Ä¢ –°—Ç–∞—Ç—É—Å: –í –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø—Ä–µ–≥–æ–≤–æ—Ä–∏<br>
‚Ä¢ –î–µ—Ç–∞–π–ª–∏: <a href="http://localhost:8000/bg/property/3" target="_blank" style="color: #007bff; text-decoration: underline;">–í–∏–∂ –∏–º–æ—Ç–∞</a><br><br><br>

–ò–º–∞—Ç–µ –ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è –∫—ä–º –∏–º–æ—Ç–∞?<br>
–ú–æ–∂–µ–º –¥–∞ –≤–∏ –ø—Ä–µ–¥–ª–æ–∂–∏–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ —Å–ø–æ—Ä–µ–¥ –≤–∞—à–∏—Ç–µ –Ω—É–∂–¥–∏.`;

            showResult('HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ —Ç–µ—Å—Ç:', sampleResponse);
        }
        
        async function testChatbot() {
            try {
                const response = await fetch('/api/chatbot/message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: '–ö–∞–∫–≤–∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–Ω–∏ –∏–º–æ—Ç–∏ –∏–º–∞—Ç–µ?',
                        locale: 'bg'
                    })
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    showResult('–†–µ–∞–ª–µ–Ω chatbot –æ—Ç–≥–æ–≤–æ—Ä:', data.data.response);
                } else {
                    showResult('–ì—Ä–µ—à–∫–∞:', JSON.stringify(data, null, 2));
                }
            } catch (error) {
                showResult('–ú—Ä–µ–∂–æ–≤–∞ –≥—Ä–µ—à–∫–∞:', error.message);
            }
        }
        
        function showResult(title, content) {
            const resultsDiv = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'response';
            resultDiv.innerHTML = `<h4>${title}</h4><div>${content}</div>`;
            resultsDiv.appendChild(resultDiv);
        }
    </script>
</body>
</html> 