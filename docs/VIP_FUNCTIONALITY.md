# VIP –û–±—è–≤–∏ - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## –ü—Ä–µ–≥–ª–µ–¥

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∑–∞ VIP –æ–±—è–≤–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏ —Ä—ä—á–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –∏–º–æ—Ç–∏—Ç–µ —á—Ä–µ–∑ –ø—Ä–æ–º–æ—Ü–∏–∏.

## –ù–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ VIP —Å—Ç–∞—Ç—É—Å

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ –ø–ª–∞—â–∞–Ω–µ –Ω–∞ VIP –ø—Ä–æ–º–æ—Ü–∏—è, —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –ê–∫—Ç–∏–≤–∏—Ä–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –∏–º–æ—Ç–∞ (`isVip = true`)
- –ó–∞–¥–∞–≤–∞ —Å—Ä–æ–∫–∞ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç (`vipExpiration = endDate –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏—è—Ç–∞`)

### 2. –†—ä—á–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª

–í —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ `/admin/promotions` –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∏—Ç–µ –º–æ–≥–∞—Ç:

#### –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ VIP —Å—Ç–∞—Ç—É—Å
- –ë—É—Ç–æ–Ω —Å—ä—Å –∑–≤–µ–∑–¥–∏—á–∫–∞ (–ø—Ä–∞–∑–Ω–∞) –∑–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏ VIP –ø—Ä–æ–º–æ—Ü–∏–∏
- –ò–∑–∏—Å–∫–≤–∞ –ø—Ä–æ–º–æ—Ü–∏—è—Ç–∞ –¥–∞ –±—ä–¥–µ –ø–ª–∞—Ç–µ–Ω–∞
- –ê–∫—Ç–∏–≤–∏—Ä–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –¥–æ –∫—Ä–∞–π–Ω–∞—Ç–∞ –¥–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏—è—Ç–∞

#### –î–µ–∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ VIP —Å—Ç–∞—Ç—É—Å  
- –ë—É—Ç–æ–Ω —Å—ä—Å –∑–≤–µ–∑–¥–∏—á–∫–∞ (–∑–∞–ø—ä–ª–Ω–µ–Ω–∞) –∑–∞ –∞–∫—Ç–∏–≤–Ω–∏ VIP –ø—Ä–æ–º–æ—Ü–∏–∏
- –ù–µ–∑–∞–±–∞–≤–Ω–æ –ø—Ä–µ–º–∞—Ö–≤–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç –∏–º–æ—Ç–∞

### 3. –í–∏–∑—É–∞–ª–Ω–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è

#### –ù–æ–≤–∞ –∫–æ–ª–æ–Ω–∞ "VIP –°—Ç–∞—Ç—É—Å"
- ‚≠ê –ê–∫—Ç–∏–≤–µ–Ω (–∂—ä–ª—Ç badge) - –∑–∞ –∞–∫—Ç–∏–≤–Ω–∏ VIP –∏–º–æ—Ç–∏
- ‚òÜ –ù–µ–∞–∫—Ç–∏–≤–µ–Ω (—Å–≤–µ—Ç—ä–ª badge) - –∑–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏ VIP –ø—Ä–æ–º–æ—Ü–∏–∏
- "-" - –∑–∞ non-VIP –ø—Ä–æ–º–æ—Ü–∏–∏

#### –ë—É—Ç–æ–Ω–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- üü¢ –ó–µ–ª–µ–Ω–∞ –∑–≤–µ–∑–¥–∏—á–∫–∞ - –ê–∫—Ç–∏–≤–∏—Ä–∞–π VIP
- üü° –ñ—ä–ª—Ç–∞ –∑–≤–µ–∑–¥–∏—á–∫–∞ - –î–µ–∞–∫—Ç–∏–≤–∏—Ä–∞–π VIP
- CSS –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞ –∞–∫—Ç–∏–≤–Ω–∏—Ç–µ VIP —Å—Ç–∞—Ç—É—Å–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### VipService
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω —Å–µ—Ä–≤–∏—Å –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ VIP –ª–æ–≥–∏–∫–∞—Ç–∞:
- `activateVipFromPromotion()` - –ê–∫—Ç–∏–≤–∏—Ä–∞ VIP –æ—Ç –ø—Ä–æ–º–æ—Ü–∏—è
- `deactivateVip()` - –î–µ–∞–∫—Ç–∏–≤–∏—Ä–∞ VIP —Å—Ç–∞—Ç—É—Å
- `hasActiveVipPromotion()` - –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞ –∞–∫—Ç–∏–≤–Ω–∏ VIP –ø—Ä–æ–º–æ—Ü–∏–∏
- `syncVipStatusWithPromotions()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞ VIP —Å—Ç–∞—Ç—É—Å —Å –ø—Ä–æ–º–æ—Ü–∏–∏

### –ù–æ–≤–∏ –∫–æ–º–∞–Ω–¥–∏

#### CheckVipExpirationCommand (—Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∞)
```bash
php bin/console app:check-vip-expiration
```
–ü—Ä–µ–º–∞—Ö–≤–∞ –∏–∑—Ç–µ–∫–ª–∏ VIP —Å—Ç–∞—Ç—É—Å–∏.

#### SyncVipStatusCommand (–Ω–æ–≤–∞)
```bash
php bin/console app:sync-vip-status
```
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞ VIP —Å—Ç–∞—Ç—É—Å–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –∏–º–æ—Ç–∏ —Å —Ç–µ—Ö–Ω–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω–∏ –ø—Ä–æ–º–æ—Ü–∏–∏.

### –û–±–Ω–æ–≤–µ–Ω–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏

#### PromotionController
- `activateVip()` - POST `/admin/promotions/{id}/activate-vip`
- `deactivateVip()` - POST `/admin/promotions/{id}/deactivate-vip`

#### PaymentService
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ VIP –ø—Ä–∏ `processPayment()`

## –†–∞–±–æ—Ç–µ–Ω –ø—Ä–æ—Ü–µ—Å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω –ø—Ä–æ—Ü–µ—Å
1. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ VIP –ø—Ä–æ–º–æ—Ü–∏—è
2. –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –ø–ª–∞—Ç–µ–∂–µ–Ω –ª–∏–Ω–∫
3. –ü–ª–∞—â–∞–Ω–µ ‚Üí **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ VIP**
4. Cron job ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—Ç–∏—á–∞–Ω–µ –ø—Ä–∏ `vipExpiration`

### –†—ä—á–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–∏–≤–∞ –Ω–∞ `/admin/promotions`
2. –í–∏–∂–¥–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –≤—Å—è–∫–∞ –ø—Ä–æ–º–æ—Ü–∏—è
3. –ú–æ–∂–µ –¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–∞ VIP —Å—Ç–∞—Ç—É—Å —Å –µ–¥–∏–Ω –∫–ª–∏–∫
4. –ü–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ —á—Ä–µ–∑ CSRF –∑–∞—â–∏—Ç–∞

## –°–∏–≥—É—Ä–Ω–æ—Å—Ç

- CSRF –∑–∞—â–∏—Ç–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ POST –∑–∞—è–≤–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞ —Ç–∏–ø –ø—Ä–æ–º–æ—Ü–∏—è (—Å–∞–º–æ VIP)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞ –ø–ª–∞—Ç–µ–Ω —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ
- Proper error handling —Å user-friendly —Å—ä–æ–±—â–µ–Ω–∏—è

## –ü—Ä–µ–ø–æ—Ä—ä–∫–∏ –∑–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞

1. **–†–µ–¥–æ–≤–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏:**
   ```bash
   # –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
   php bin/console app:check-vip-expiration
   
   # –°–µ–¥–º–∏—á–Ω–æ (–∑–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
   php bin/console app:sync-vip-status
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ VIP —Å—Ç–∞—Ç—É—Å–∏:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ—Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–µ–∂–¥—É –ø—Ä–æ–º–æ—Ü–∏–∏ –∏ VIP —Å—Ç–∞—Ç—É—Å–∏
   - –õ–æ–≥–∏—Ä–∞–Ω–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–∏—è

3. **Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
   - VIP —Å—Ç–∞—Ç—É—Å–∏—Ç–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –≤ `properties` —Ç–∞–±–ª–∏—Ü–∞—Ç–∞
   - –ü—Ä–æ–º–æ—Ü–∏–∏—Ç–µ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –≤ `promotions` —Ç–∞–±–ª–∏—Ü–∞—Ç–∞
   - –ò –¥–≤–µ—Ç–µ —Ç–∞–±–ª–∏—Ü–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞—Ç —Ä–µ–¥–æ–≤–Ω–æ
